---
phase: "04"
plan: "04-02"
title: "About, Dashboard, DataSources, and Profile migration"
wave: 2
depends_on: ["04-01"]
files_modified:
  - "frontend/src/views/About.vue"
  - "frontend/src/views/Dashboard.vue"
  - "frontend/src/views/DataSources.vue"
  - "frontend/src/views/Profile.vue"
autonomous: true
estimated_minutes: 75
requirements:
  - "PUB-05: About page uses Card + Badge + Tailwind grid"
  - "PUB-06: Dashboard uses Tabs + custom select"
  - "PUB-07: DataSources uses Card + Badge + Tooltip"
  - "PUB-08: Profile uses Card + Form (Input/Switch/Alert)"

must_haves:
  truths:
    - "About.vue has zero Vuetify component tags"
    - "Dashboard.vue has zero Vuetify component tags"
    - "DataSources.vue has zero Vuetify component tags"
    - "Profile.vue has zero Vuetify component tags and no v-form/v-text-field"
    - "`npm run build` succeeds"
    - "`npm run lint` has 0 errors"
    - "Dashboard tabs switch between overlaps/distributions/composition views"
    - "Profile form editing and password change work correctly"
    - "DataSources page loads and displays source cards with correct data"
  artifacts:
    - path: "frontend/src/views/About.vue"
      provides: "Tailwind grid + Card sections for about content"
    - path: "frontend/src/views/Dashboard.vue"
      provides: "Tabs + multi-select for tier filtering"
    - path: "frontend/src/views/DataSources.vue"
      provides: "Card grid + Badge + Tooltip for source display"
    - path: "frontend/src/views/Profile.vue"
      provides: "Card + Input + Switch for user profile forms"

---

# 04-02: About, Dashboard, DataSources, and Profile Migration

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** Migrate the 4 remaining public pages from Vuetify to Tailwind + shadcn-vue.

**Architecture:** Same patterns as 04-01 — replace v-container/v-row/v-col with Tailwind, replace Vuetify components with shadcn-vue equivalents.

---

## Common Imports (used across multiple files)

```typescript
// Layout + Breadcrumb (all pages)
import {
  Breadcrumb, BreadcrumbItem, BreadcrumbLink, BreadcrumbList,
  BreadcrumbPage, BreadcrumbSeparator,
} from '@/components/ui/breadcrumb'

// Card (About, DataSources, Profile, Dashboard)
import { Card, CardContent, CardDescription, CardFooter, CardHeader, CardTitle } from '@/components/ui/card'

// Badge (About, DataSources, Dashboard)
import { Badge } from '@/components/ui/badge'

// Tooltip (DataSources, Dashboard)
import { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from '@/components/ui/tooltip'

// Tabs (Dashboard)
import { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs'

// Form inputs (Profile)
import { Input } from '@/components/ui/input'
import { Label } from '@/components/ui/label'
import { Switch } from '@/components/ui/switch'
import { Button } from '@/components/ui/button'
import { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert'
import { Separator } from '@/components/ui/separator'
import { Avatar, AvatarFallback } from '@/components/ui/avatar'
```

---

<task id="1">
### Task 1: Migrate About.vue

**Files:** Modify `frontend/src/views/About.vue`

**Key changes:**
1. Replace `v-container`/`v-row`/`v-col` with Tailwind container + grid
2. Replace `v-breadcrumbs` with Breadcrumb component (same pattern as Genes.vue in 04-01)
3. Replace `v-card`/`v-card-item`/`v-card-title`/`v-card-text` with Card + CardHeader + CardTitle + CardContent
4. Replace `v-chip` with Badge
5. Replace `v-avatar` with Avatar
6. Replace `v-divider` with Separator

**Page structure (preserve all content, just swap components):**

```vue
<template>
  <div class="container mx-auto px-4 py-6">
    <!-- Breadcrumb -->
    <Breadcrumb class="mb-6">
      <BreadcrumbList>
        <!-- ... same pattern as Genes.vue -->
      </BreadcrumbList>
    </Breadcrumb>

    <!-- Page header -->
    <div class="flex items-center gap-3 mb-6">
      <Avatar class="h-10 w-10 bg-primary/10">
        <AvatarFallback><BookOpen :size="20" class="text-primary" /></AvatarFallback>
      </Avatar>
      <div>
        <h1 class="text-2xl font-bold">About</h1>
        <p class="text-sm text-muted-foreground">Learn about the Kidney Genetics Database</p>
      </div>
    </div>

    <!-- "How to Use" section — 4 cards in 2x2 grid -->
    <h2 class="text-xl font-semibold mb-4">How to Use This Database</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
      <Card v-for="item in howToUseItems" :key="item.title" class="h-full">
        <CardHeader class="flex flex-row items-center gap-3 pb-2">
          <Avatar class="h-8 w-8" :style="{ backgroundColor: item.color + '20' }">
            <AvatarFallback><component :is="item.icon" :size="16" :style="{ color: item.color }" /></AvatarFallback>
          </Avatar>
          <CardTitle class="text-base">{{ item.title }}</CardTitle>
        </CardHeader>
        <CardContent>
          <p class="text-sm text-muted-foreground">{{ item.description }}</p>
          <div class="flex flex-wrap gap-1 mt-2" v-if="item.chips">
            <Badge v-for="chip in item.chips" :key="chip" variant="secondary">{{ chip }}</Badge>
          </div>
        </CardContent>
      </Card>
    </div>

    <!-- "Core Concepts" section — 6 cards in 3x2 grid -->
    <h2 class="text-xl font-semibold mb-4">Core Concepts</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-8">
      <!-- Each card with gradient header preserved via inline style -->
      <Card v-for="concept in coreConcepts" :key="concept.title">
        <div class="h-2 rounded-t-lg" :style="{ background: concept.gradient }" />
        <CardHeader class="pb-2">
          <CardTitle class="text-base">{{ concept.title }}</CardTitle>
        </CardHeader>
        <CardContent>
          <p class="text-sm text-muted-foreground">{{ concept.description }}</p>
        </CardContent>
      </Card>
    </div>

    <!-- "Open Source" section — 2 cards side by side -->
    <h2 class="text-xl font-semibold mb-4">Open Source & Documentation</h2>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
      <!-- GitHub card, Docs card -->
    </div>
  </div>
</template>
```

**Move inline content to data arrays** in `<script setup>` for cleaner template:
- `howToUseItems` — array of {title, description, icon, color, chips}
- `coreConcepts` — array of {title, description, gradient}

**Remove all Vuetify utility classes** (d-flex, align-center, mb-N as class strings, pa-N, text-h4, etc.)

**Verify:** `npm run build && npm run lint`

**Commit:**
```bash
git add frontend/src/views/About.vue
git commit -m "feat(04-02): migrate About.vue to Tailwind + Card + Badge"
```
</task>

<task id="2" depends_on="1">
### Task 2: Migrate Dashboard.vue

**Files:** Modify `frontend/src/views/Dashboard.vue`

**Key changes:**
1. Replace `v-breadcrumbs` with Breadcrumb
2. Replace `v-select` (multi-select with chips) with a custom multi-select using Popover + Command or a simpler approach with checkboxes
3. Replace `v-tabs`/`v-tab`/`v-tabs-window`/`v-tabs-window-item` with Tabs from shadcn-vue
4. Replace `v-card` wrapper with Card
5. Replace `v-chip` inside select with Badge

**Tabs replacement pattern:**
```vue
<Card>
  <Tabs v-model="activeTab" class="w-full">
    <CardHeader class="pb-0">
      <TabsList>
        <TabsTrigger value="overlaps">
          <ChartScatter :size="16" class="mr-2" />
          Gene Source Overlaps
        </TabsTrigger>
        <TabsTrigger value="distributions">
          <ChartBar :size="16" class="mr-2" />
          Source Distributions
        </TabsTrigger>
        <TabsTrigger value="composition">
          <ChartPie :size="16" class="mr-2" />
          Evidence Composition
        </TabsTrigger>
      </TabsList>
    </CardHeader>
    <CardContent>
      <TabsContent value="overlaps">
        <UpSetChart :selected-tiers="selectedTiers" />
      </TabsContent>
      <TabsContent value="distributions">
        <SourceDistributionsChart :selected-tiers="selectedTiers" />
      </TabsContent>
      <TabsContent value="composition">
        <EvidenceCompositionChart :selected-tiers="selectedTiers" />
      </TabsContent>
    </CardContent>
  </Tabs>
</Card>
```

**For the tier multi-select**, use a simple approach with Popover + checkboxes:
```vue
<Popover>
  <PopoverTrigger as-child>
    <Button variant="outline" class="justify-between">
      {{ selectedTiers.length ? `${selectedTiers.length} tiers selected` : 'All tiers' }}
      <ChevronDown :size="16" class="ml-2" />
    </Button>
  </PopoverTrigger>
  <PopoverContent class="w-64">
    <div class="space-y-2">
      <div
        v-for="tier in tierOptions"
        :key="tier.value"
        class="flex items-center gap-2 cursor-pointer"
        @click="toggleTier(tier.value)"
      >
        <div
          class="h-4 w-4 rounded border flex items-center justify-center"
          :class="selectedTiers.includes(tier.value) ? 'bg-primary border-primary' : 'border-input'"
        >
          <Check v-if="selectedTiers.includes(tier.value)" :size="12" class="text-primary-foreground" />
        </div>
        <Badge :style="{ backgroundColor: tier.color + '20', color: tier.color }">
          {{ tier.label }}
        </Badge>
      </div>
    </div>
  </PopoverContent>
</Popover>
```

**Preserve URL query param synchronization** for `activeTab`.

**Verify:** `npm run build && npm run lint` — tabs switch, tier filter works.

**Commit:**
```bash
git add frontend/src/views/Dashboard.vue
git commit -m "feat(04-02): migrate Dashboard.vue to Tabs + Popover multi-select"
```
</task>

<task id="3">
### Task 3: Migrate DataSources.vue

**Files:** Modify `frontend/src/views/DataSources.vue`

**Key changes:**
1. Replace `v-breadcrumbs` with Breadcrumb
2. Replace `v-card` cards with Card + styled divs
3. Replace `v-chip` status badges with Badge
4. Replace `v-tooltip` with Tooltip
5. Replace `v-progress-circular` with Tailwind spinner
6. Replace all Vuetify utility classes

**Source card pattern:**
```vue
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
  <Card
    v-for="source in dataSources"
    :key="source.name"
    class="overflow-hidden hover:shadow-md transition-shadow"
    @mouseenter="hoveredCard = source.name"
    @mouseleave="hoveredCard = null"
  >
    <!-- Gradient header -->
    <div
      class="p-4 text-white"
      :style="{ background: getSourceGradient(source.name) }"
    >
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-2">
          <component :is="getSourceIcon(source.name)" :size="20" />
          <span class="font-semibold">{{ source.display_name }}</span>
        </div>
        <Badge :variant="source.status === 'active' ? 'default' : 'secondary'">
          {{ source.status }}
        </Badge>
      </div>
    </div>
    <CardContent class="pt-4">
      <!-- Stats with tooltips -->
      <div class="space-y-2 text-sm">
        <TooltipProvider>
          <div class="flex items-center justify-between">
            <span class="text-muted-foreground">Genes</span>
            <Tooltip>
              <TooltipTrigger>
                <span class="font-medium">{{ source.gene_count }}</span>
              </TooltipTrigger>
              <TooltipContent>Total genes from this source</TooltipContent>
            </Tooltip>
          </div>
          <!-- ... more stat rows ... -->
        </TooltipProvider>
      </div>
    </CardContent>
  </Card>
</div>
```

**Summary section at bottom** uses same Card pattern with 4 stat items.

**Loading state:**
```vue
<div v-if="loading" class="flex items-center justify-center py-12">
  <div class="h-16 w-16 animate-spin rounded-full border-4 border-primary border-t-transparent" />
</div>
```

**Verify:** `npm run build && npm run lint` — data sources page loads with cards.

**Commit:**
```bash
git add frontend/src/views/DataSources.vue
git commit -m "feat(04-02): migrate DataSources.vue to Card + Badge + Tooltip"
```
</task>

<task id="4">
### Task 4: Migrate Profile.vue

**Files:** Modify `frontend/src/views/Profile.vue`

This is the most complex file in Phase 04 due to forms with validation.

**Key changes:**
1. Replace `v-breadcrumbs` → Breadcrumb
2. Replace `v-card` → Card
3. Replace `v-avatar` → Avatar
4. Replace `v-chip` → Badge
5. Replace `v-divider` → Separator
6. Replace `v-form` → native form (vee-validate if needed, but for simple inline validation keep it simple)
7. Replace `v-text-field` → Input + Label
8. Replace `v-alert` → Alert
9. Replace `v-switch` → Switch
10. Replace `v-btn` → Button
11. Replace `v-list`/`v-list-item` → styled divs

**Profile card (left column) pattern:**
```vue
<Card>
  <CardContent class="pt-6">
    <div class="flex flex-col items-center text-center">
      <Avatar class="h-24 w-24 mb-4">
        <AvatarFallback class="text-2xl bg-primary text-primary-foreground">
          {{ user?.username?.charAt(0)?.toUpperCase() }}
        </AvatarFallback>
      </Avatar>
      <h2 class="text-xl font-bold">{{ user?.username }}</h2>
      <p class="text-sm text-muted-foreground">{{ user?.email }}</p>
      <Badge class="mt-2" :variant="user?.role === 'admin' ? 'destructive' : 'secondary'">
        {{ user?.role }}
      </Badge>
      <Separator class="my-4" />
      <div class="text-sm text-muted-foreground">
        Member since {{ formatDate(user?.created_at) }}
      </div>
    </div>
  </CardContent>
</Card>
```

**Form fields replacement pattern:**
```vue
<!-- v-text-field replacement -->
<div class="space-y-2">
  <Label for="username">Username</Label>
  <Input
    id="username"
    v-model="accountData.username"
    :disabled="!editingAccount"
    placeholder="Username"
  />
</div>

<!-- v-text-field type=password with toggle -->
<div class="space-y-2">
  <Label for="new-password">New Password</Label>
  <div class="relative">
    <Input
      id="new-password"
      v-model="passwordData.newPassword"
      :type="showNewPassword ? 'text' : 'password'"
      placeholder="Enter new password"
    />
    <Button
      variant="ghost"
      size="icon"
      class="absolute right-0 top-0 h-full px-3"
      @click="showNewPassword = !showNewPassword"
    >
      <Eye v-if="!showNewPassword" :size="16" />
      <EyeOff v-else :size="16" />
    </Button>
  </div>
</div>
```

**Alert replacement:**
```vue
<!-- v-alert type="success" -->
<Alert v-if="accountSuccess" variant="default" class="border-green-500 bg-green-50 dark:bg-green-950">
  <AlertDescription>{{ accountSuccess }}</AlertDescription>
</Alert>

<!-- v-alert type="error" -->
<Alert v-if="accountError" variant="destructive">
  <AlertDescription>{{ accountError }}</AlertDescription>
</Alert>
```

**Switch replacement:**
```vue
<div class="flex items-center justify-between">
  <div>
    <Label>Email Notifications</Label>
    <p class="text-xs text-muted-foreground">Receive email notifications</p>
  </div>
  <Switch v-model:checked="preferences.emailNotifications" />
</div>
```

**Form validation:** Keep simple inline validation using the existing `rules` object:
```typescript
const validateAndSave = async () => {
  if (!accountData.username) { accountError.value = 'Username is required'; return }
  if (!accountData.email || !accountData.email.includes('@')) { accountError.value = 'Valid email required'; return }
  // ... save logic
}
```

**Two-column layout:**
```vue
<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
  <!-- Left: Profile card (col-span-1) -->
  <div class="md:col-span-1">...</div>
  <!-- Right: Forms (col-span-2) -->
  <div class="md:col-span-2 space-y-6">...</div>
</div>
```

**Verify:** `npm run build && npm run lint` — profile renders, forms editable, password change works.

**Commit:**
```bash
git add frontend/src/views/Profile.vue
git commit -m "feat(04-02): migrate Profile.vue to Card + Input + Switch + Alert"
```
</task>

<task id="5" depends_on="1,2,3,4">
### Task 5: Phase 04 Verification

**Step 1: Build + lint**
```bash
cd frontend && npm run build && npm run lint
```

**Step 2: Vuetify audit on all Phase 04 files**
```bash
grep -E "v-container|v-row|v-col|v-card|v-chip|v-tabs|v-select|v-form|v-text-field|v-alert|v-switch|v-btn|v-tooltip|v-list|v-avatar|v-progress-circular|v-divider|v-breadcrumbs|v-badge|v-footer|v-menu" \
  frontend/src/views/About.vue \
  frontend/src/views/Dashboard.vue \
  frontend/src/views/DataSources.vue \
  frontend/src/views/Profile.vue \
  frontend/src/views/Genes.vue \
  frontend/src/views/Home.vue \
  frontend/src/components/AppFooter.vue
```
Expected: 0 matches.

**Step 3: Check for remaining Vuetify utility classes**
```bash
grep -E "d-flex|align-center|justify-space-between|text-h[3-6]|text-body-[12]|text-caption|text-medium-emphasis|elevation-|ga-[0-9]|pa-[0-9]|ma-[0-9]" \
  frontend/src/views/About.vue \
  frontend/src/views/Dashboard.vue \
  frontend/src/views/DataSources.vue \
  frontend/src/views/Profile.vue \
  frontend/src/views/Genes.vue \
  frontend/src/views/Home.vue \
  frontend/src/components/AppFooter.vue
```
Expected: 0 matches.

**Step 4: Visual verification**
- `/about` — sections render with cards, badges, avatars
- `/dashboard` — tabs switch, tier filter multi-select works
- `/datasources` — cards load with gradients, tooltips appear on hover
- `/profile` — forms editable, password toggle works, switches toggle
- Responsive layout at mobile + desktop for all pages
</task>
