---
phase: "04"
plan: "04-01"
title: "AppFooter, Home, and Genes migration"
wave: 1
depends_on: ["03-05"]
files_modified:
  - "frontend/src/views/Genes.vue"
  - "frontend/src/views/Home.vue"
  - "frontend/src/components/AppFooter.vue"
autonomous: true
estimated_minutes: 45
requirements:
  - "PUB-01: Install Phase 04 shadcn-vue components"
  - "PUB-02: Genes wrapper uses Tailwind layout"
  - "PUB-03: Home page uses Tailwind grid + Card"
  - "PUB-04: AppFooter uses DropdownMenu + Tailwind"

must_haves:
  truths:
    - "shadcn-vue tabs, alert, switch, accordion, scroll-area components are installed"
    - "Genes.vue has zero Vuetify component tags"
    - "Home.vue has zero Vuetify component tags and no `from 'vuetify'` import"
    - "AppFooter.vue has zero Vuetify component tags"
    - "`npm run build` succeeds"
    - "`npm run lint` has 0 errors"
    - "All 3 pages render correctly in the browser"
  artifacts:
    - path: "frontend/src/views/Genes.vue"
      provides: "Tailwind container + Breadcrumb layout wrapping GeneTable"
    - path: "frontend/src/views/Home.vue"
      provides: "Tailwind grid hero + stat cards + benefits section"
    - path: "frontend/src/components/AppFooter.vue"
      provides: "Semantic footer with DropdownMenu for version info"
  key_links:
    - from: "frontend/src/views/Genes.vue"
      to: "GeneTable component"
      via: "import GeneTable from '@/components/GeneTable.vue'"
    - from: "frontend/src/views/Home.vue"
      to: "KGDBLogo component"
      via: "import KGDBLogo from '@/components/branding/KGDBLogo.vue'"

---

# 04-01: AppFooter, Home, and Genes Migration

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** Install Phase 04 shadcn-vue components, then migrate Genes.vue (trivial), Home.vue, and AppFooter.vue from Vuetify to Tailwind + shadcn-vue.

**Architecture:** Replace Vuetify layout (v-container/v-row/v-col) with Tailwind grid/flex, replace v-card with Card or styled divs, replace v-menu with DropdownMenu, replace useDisplay with Tailwind responsive classes.

---

## Common Patterns (reference for all tasks)

### Vuetify Layout → Tailwind

| Vuetify | Tailwind |
|---------|----------|
| `<v-container>` | `<div class="container mx-auto px-4">` |
| `<v-container fluid>` | `<div class="w-full px-4">` |
| `<v-row>` | `<div class="grid grid-cols-12 gap-4">` or `<div class="flex flex-wrap gap-4">` |
| `<v-col cols="12" sm="6" md="4">` | `<div class="col-span-12 sm:col-span-6 md:col-span-4">` |
| `<v-col cols="auto">` | `<div class="flex-shrink-0">` or just a flex child |
| `<v-spacer />` | `<div class="flex-1" />` or `grow` class |

### Vuetify Utility → Tailwind

| Vuetify | Tailwind |
|---------|----------|
| `d-flex` | `flex` |
| `align-center` | `items-center` |
| `justify-space-between` | `justify-between` |
| `justify-center` | `justify-center` |
| `ga-N` | `gap-N` |
| `mb-N` / `mt-N` / `pa-N` | `mb-N` / `mt-N` / `p-N` |
| `text-h3` | `text-3xl font-bold` |
| `text-h4` | `text-2xl font-bold` |
| `text-h5` | `text-xl font-semibold` |
| `text-h6` | `text-lg font-semibold` |
| `text-body-1` | `text-base` |
| `text-body-2` | `text-sm` |
| `text-caption` | `text-xs` |
| `text-medium-emphasis` | `text-muted-foreground` |
| `font-weight-bold` | `font-bold` |
| `font-weight-medium` | `font-medium` |
| `text-center` | `text-center` |
| `text-primary` | `text-primary` |
| `w-100` | `w-full` |
| `h-100` | `h-full` |
| `elevation-N` | `shadow-none` / `shadow` / `shadow-md` / `shadow-lg` |

### v-progress-circular → Tailwind spinner

```html
<!-- Replace v-progress-circular indeterminate -->
<div class="flex items-center justify-center py-12">
  <div class="h-16 w-16 animate-spin rounded-full border-4 border-primary border-t-transparent" />
</div>
```

---

<task id="1">
### Task 1: Install shadcn-vue components needed for Phase 04

**Step 1: Install components**

Run from `frontend/`:
```bash
npx shadcn-vue@latest add tabs alert switch accordion scroll-area
```

**Step 2: Verify installation**

```bash
ls frontend/src/components/ui/tabs/
ls frontend/src/components/ui/alert/
ls frontend/src/components/ui/switch/
ls frontend/src/components/ui/accordion/
ls frontend/src/components/ui/scroll-area/
```

Expected: Each directory contains index.ts + component files.

**Step 3: Commit**

```bash
git add frontend/src/components/ui/tabs/ frontend/src/components/ui/alert/ frontend/src/components/ui/switch/ frontend/src/components/ui/accordion/ frontend/src/components/ui/scroll-area/
git commit -m "feat(04-01): install shadcn-vue tabs, alert, switch, accordion, scroll-area"
```
</task>

<task id="2" depends_on="1">
### Task 2: Migrate Genes.vue

**Files:** Modify `frontend/src/views/Genes.vue`

This is a trivial wrapper view. Replace Vuetify layout components with Tailwind.

**Current Vuetify components to remove:**
- `v-container` → `<div class="container mx-auto px-4">`
- `v-row` → `<div class="...">`
- `v-col` → remove wrapper
- `v-breadcrumbs` → use existing Breadcrumb component from shadcn-vue (already installed in Phase 01)

**Replace the entire template with:**

```vue
<template>
  <div class="container mx-auto px-4 py-6">
    <div class="mb-6">
      <Breadcrumb>
        <BreadcrumbList>
          <BreadcrumbItem v-for="(crumb, index) in breadcrumbs" :key="index">
            <BreadcrumbLink v-if="crumb.to" :href="crumb.to">
              {{ crumb.title }}
            </BreadcrumbLink>
            <BreadcrumbPage v-else>{{ crumb.title }}</BreadcrumbPage>
            <BreadcrumbSeparator v-if="index < breadcrumbs.length - 1" />
          </BreadcrumbItem>
        </BreadcrumbList>
      </Breadcrumb>
      <div class="flex items-center gap-2 mt-2">
        <h1 class="text-2xl font-bold">Gene Browser</h1>
      </div>
      <p class="text-sm text-muted-foreground">
        Browse and filter kidney disease-related genes
      </p>
    </div>

    <GeneTable />
  </div>
</template>
```

**Update script imports** — add Breadcrumb components, remove any Vuetify references:

```typescript
import {
  Breadcrumb,
  BreadcrumbItem,
  BreadcrumbLink,
  BreadcrumbList,
  BreadcrumbPage,
  BreadcrumbSeparator,
} from '@/components/ui/breadcrumb'
import GeneTable from '@/components/GeneTable.vue'
import { PUBLIC_BREADCRUMBS } from '@/utils/publicBreadcrumbs'

const breadcrumbs = PUBLIC_BREADCRUMBS.genes
```

**Verify:** `npm run build && npm run lint`

**Commit:**
```bash
git add frontend/src/views/Genes.vue
git commit -m "feat(04-01): migrate Genes.vue to Tailwind + shadcn-vue Breadcrumb"
```
</task>

<task id="3" depends_on="1">
### Task 3: Migrate Home.vue

**Files:** Modify `frontend/src/views/Home.vue`

**Key changes:**
1. Remove `import { useDisplay } from 'vuetify'` — replace responsive logic with Tailwind breakpoints
2. Replace `v-container`/`v-row`/`v-col` with Tailwind grid
3. Replace `v-card` with Card or styled divs (the home page uses custom gradient cards)
4. Replace `v-avatar` with Avatar component
5. Replace `useDisplay()` breakpoints (`xs`, `sm`) with Tailwind responsive classes or VueUse `useBreakpoints`

**Remove `useDisplay` import and computed:**
```typescript
// REMOVE these:
import { useDisplay } from 'vuetify'
const { xs, sm } = useDisplay()
const logoSize = computed(() => {
  if (xs.value) return 60
  if (sm.value) return 100
  return 180
})
```

**Replace with Tailwind responsive or VueUse:**

Option A (preferred — Tailwind responsive classes on the logo):
```vue
<!-- Use responsive class on logo wrapper, pass different sizes via CSS -->
<KGDBLogo :size="logoSize" variant="icon-only" animated />
```
```typescript
import { useWindowSize } from '@vueuse/core'
const { width } = useWindowSize()
const logoSize = computed(() => {
  if (width.value < 600) return 60
  if (width.value < 960) return 100
  return 180
})
```

**Template replacement pattern for the hero section:**
```vue
<div class="w-full bg-gradient-to-br from-primary/10 via-background to-primary/5 py-12 px-4">
  <div class="container mx-auto text-center">
    <!-- Logo -->
    <div class="flex justify-center mb-6">
      <KGDBLogo :size="logoSize" variant="icon-only" animated />
    </div>
    <!-- Title -->
    <h1 class="text-3xl md:text-4xl font-bold mb-2">Kidney Genetics Database</h1>
    <p class="text-sm text-muted-foreground mb-8">
      Comprehensive kidney disease gene curation platform
    </p>
  </div>
</div>
```

**Stats cards grid pattern:**
```vue
<div class="container mx-auto px-4 -mt-8">
  <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
    <div
      v-for="stat in stats"
      :key="stat.label"
      class="rounded-lg border bg-card p-4 shadow-sm hover:shadow-md transition-shadow cursor-pointer"
      @mouseenter="hoveredCard = stat.label"
      @mouseleave="hoveredCard = null"
    >
      <div class="flex items-center gap-3">
        <div
          class="flex h-10 w-10 items-center justify-center rounded-full"
          :style="{ backgroundColor: stat.color + '20', color: stat.color }"
        >
          <component :is="stat.icon" :size="20" />
        </div>
        <div>
          <p class="text-2xl font-bold">{{ stat.value }}</p>
          <p class="text-xs text-muted-foreground">{{ stat.label }}</p>
        </div>
      </div>
    </div>
  </div>
</div>
```

**Key benefits section pattern:**
```vue
<div class="container mx-auto px-4 mt-8">
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
    <div
      v-for="benefit in keyBenefits"
      :key="benefit.title"
      class="rounded-lg border bg-card p-6"
    >
      <div class="flex items-center gap-3 mb-3">
        <div
          class="flex h-12 w-12 items-center justify-center rounded-lg"
          :style="{ backgroundColor: benefit.color + '20' }"
        >
          <component :is="benefit.icon" :size="24" :style="{ color: benefit.color }" />
        </div>
        <h3 class="text-lg font-semibold">{{ benefit.title }}</h3>
      </div>
      <p class="text-sm text-muted-foreground">{{ benefit.description }}</p>
    </div>
  </div>
</div>
```

**Ensure `stats` array uses Lucide component references** (not string icon names).

**Remove all Vuetify utility classes** from any remaining elements (d-flex, align-center, etc.).

**Verify:** `npm run build && npm run lint` — zero errors, page renders with hero, stats, benefits.

**Commit:**
```bash
git add frontend/src/views/Home.vue
git commit -m "feat(04-01): migrate Home.vue to Tailwind grid with VueUse breakpoints"
```
</task>

<task id="4" depends_on="1">
### Task 4: Migrate AppFooter.vue

**Files:** Modify `frontend/src/components/AppFooter.vue`

**Key changes:**
1. Replace `v-footer` with semantic `<footer>` element
2. Replace `v-menu` (version info) with DropdownMenu
3. Replace `v-card`/`v-list`/`v-list-item` inside menu with DropdownMenu items
4. Replace `v-badge` with Badge component
5. Replace `v-divider` with Separator
6. Replace `v-btn` with Button
7. Replace all Vuetify utility classes with Tailwind

**Imports to add:**
```typescript
import {
  DropdownMenu,
  DropdownMenuContent,
  DropdownMenuItem,
  DropdownMenuLabel,
  DropdownMenuSeparator,
  DropdownMenuTrigger,
} from '@/components/ui/dropdown-menu'
import { Button } from '@/components/ui/button'
import { Badge } from '@/components/ui/badge'
import { Separator } from '@/components/ui/separator'
```

**Footer structure pattern:**
```vue
<template>
  <footer class="border-t bg-card py-2">
    <div class="container mx-auto px-4">
      <div class="flex items-center justify-between">
        <!-- Left: Version info dropdown -->
        <DropdownMenu>
          <DropdownMenuTrigger as-child>
            <Button variant="ghost" size="sm" class="text-xs text-muted-foreground">
              <Info :size="14" class="mr-1" />
              KGDB v{{ frontendVersion }}
            </Button>
          </DropdownMenuTrigger>
          <DropdownMenuContent align="start" class="w-64">
            <DropdownMenuLabel>Version Information</DropdownMenuLabel>
            <DropdownMenuSeparator />
            <!-- Frontend version -->
            <DropdownMenuItem class="flex-col items-start">
              <span class="text-xs font-medium">Frontend</span>
              <span class="text-xs text-muted-foreground">{{ frontendVersion }}</span>
            </DropdownMenuItem>
            <DropdownMenuSeparator />
            <!-- Backend version -->
            <DropdownMenuItem class="flex-col items-start">
              <span class="text-xs font-medium">Backend</span>
              <span class="text-xs text-muted-foreground">{{ backendVersion || 'Loading...' }}</span>
            </DropdownMenuItem>
            <DropdownMenuSeparator />
            <!-- Database version -->
            <DropdownMenuItem class="flex-col items-start">
              <span class="text-xs font-medium">Database</span>
              <span class="text-xs text-muted-foreground">{{ databaseVersion || 'Loading...' }}</span>
            </DropdownMenuItem>
            <DropdownMenuSeparator />
            <!-- Environment -->
            <DropdownMenuItem class="flex-col items-start">
              <span class="text-xs font-medium">Environment</span>
              <span class="text-xs text-muted-foreground">{{ environment }}</span>
            </DropdownMenuItem>
          </DropdownMenuContent>
        </DropdownMenu>

        <!-- Right: Quick links -->
        <div class="flex items-center gap-1">
          <!-- GitHub link -->
          <Button variant="ghost" size="icon" class="h-8 w-8" as="a" href="https://github.com/bernt-matthias/kidney-genetics" target="_blank">
            <Github :size="16" />
          </Button>
          <!-- Log viewer (admin only) -->
          <Button
            v-if="isAdmin"
            variant="ghost"
            size="icon"
            class="h-8 w-8 relative"
            @click="$router.push('/admin/logs')"
          >
            <FileText :size="16" />
            <Badge
              v-if="unreadLogCount > 0"
              variant="destructive"
              class="absolute -top-1 -right-1 h-4 min-w-4 px-1 text-[10px]"
            >
              {{ unreadLogCount }}
            </Badge>
          </Button>
        </div>
      </div>
    </div>
  </footer>
</template>
```

**Remove:**
- All `v-footer`, `v-menu`, `v-card`, `v-list`, `v-list-item`, `v-badge`, `v-spacer`, `v-divider`, `v-btn` tags
- All Vuetify utility classes (`bg-surface-light`, `py-1`, `pa-0`, `text-caption`, etc.)
- `environmentColor` computed if unused

**Verify:** `npm run build && npm run lint` — footer renders with version dropdown and links.

**Commit:**
```bash
git add frontend/src/components/AppFooter.vue
git commit -m "feat(04-01): migrate AppFooter.vue to Tailwind + DropdownMenu"
```
</task>

<task id="5" depends_on="2,3,4">
### Task 5: Verification

**Step 1: Build check**
```bash
cd frontend && npm run build
```
Expected: SUCCESS, no errors.

**Step 2: Lint check**
```bash
cd frontend && npm run lint
```
Expected: 0 errors (warnings OK but fix if simple).

**Step 3: Vuetify audit on migrated files**
```bash
grep -E "v-container|v-row|v-col|v-footer|v-card|v-menu|v-badge|v-list|v-btn|v-spacer|v-avatar" frontend/src/views/Genes.vue frontend/src/views/Home.vue frontend/src/components/AppFooter.vue
```
Expected: 0 matches.

**Step 4: Check no `from 'vuetify'` import in migrated files**
```bash
grep "from 'vuetify'" frontend/src/views/Genes.vue frontend/src/views/Home.vue frontend/src/components/AppFooter.vue
```
Expected: 0 matches.

**Step 5: Visual verification**
- Navigate to `/` — Home page renders with hero, stats cards, benefits
- Navigate to `/genes` — Gene browser renders with breadcrumbs
- Footer visible on all pages with version dropdown
- Test responsive layout at mobile (< 640px) and desktop widths
</task>
