# Kidney Genetics Database Environment Configuration
# Copy this file to .env and update values as needed

# Application Settings
APP_NAME="Kidney Genetics API"
APP_VERSION="0.1.0"
DEBUG=False
ENVIRONMENT=dev

# Database
DATABASE_URL=postgresql://kidney_user:kidney_pass@localhost:5432/kidney_genetics
DATABASE_ECHO=False

# Security - JWT
JWT_SECRET_KEY=CHANGE_THIS_TO_A_SECURE_SECRET_KEY
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Security - Passwords
PASSWORD_MIN_LENGTH=8
BCRYPT_ROUNDS=12

# Security - Account
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_MINUTES=15

# Default Admin (change immediately after first login)
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@kidney-genetics.local
ADMIN_PASSWORD=ChangeMe!Admin2024

# CORS
BACKEND_CORS_ORIGINS=["http://localhost:3000","http://localhost:5173","http://localhost:8000"]

# Cache Configuration
CACHE_ENABLED=True
CACHE_DEFAULT_TTL=3600
CACHE_MAX_MEMORY_SIZE=1000
CACHE_CLEANUP_INTERVAL=3600

# HTTP Cache
HTTP_CACHE_ENABLED=True
HTTP_CACHE_DIR=.cache/http
HTTP_CACHE_MAX_SIZE_MB=500
HTTP_CACHE_TTL_DEFAULT=3600

# Background Tasks
AUTO_UPDATE_ENABLED=True

# Redis & ARQ Task Queue
# ARQ provides background job processing with Redis
# Enable USE_ARQ_WORKER=True and start worker: arq app.core.arq_worker.WorkerSettings
REDIS_URL=redis://localhost:6379/0
ARQ_QUEUE_NAME=kidney_genetics_tasks
ARQ_MAX_JOBS=3
ARQ_JOB_TIMEOUT=21600  # 6 hours - annotation pipelines with rate-limited APIs need this
USE_ARQ_WORKER=False   # Set True to use ARQ worker for background jobs

# STRING-DB Configuration
STRING_VERSION=12.0
STRING_MIN_SCORE=400
STRING_MAX_INTERACTIONS_STORED=30
STRING_DATA_DIR=/home/bernt-popp/development/kidney-genetics-db/backend/data/string/v12.0
STRING_CACHE_TTL_DAYS=30

# Gene Normalization
HGNC_BATCH_SIZE=50
HGNC_RETRY_ATTEMPTS=3
HGNC_CACHE_ENABLED=True

# Configuration System
CONFIG_DIR=./config

# Optional API Keys
# OPENAI_API_KEY=your_key_here
# NCBI API key â€” increases eUtils rate limit from 3 req/s to 10 req/s
# Register at https://www.ncbi.nlm.nih.gov/account/settings/
# NCBI_API_KEY=your_ncbi_api_key_here

# ===============================================
# Data Source Configuration Overrides
# ===============================================
# Use environment variables to override YAML config values
# Pattern: KG_<SOURCE>__<PARAM>=value
# Examples:

# Override PanelApp settings
# KG_PANELAPP__UK_PANELS=[123, 456]
# KG_PANELAPP__CACHE_TTL=7200

# Override PubTator settings
# KG_PUBTATOR__REQUESTS_PER_SECOND=5.0
# KG_PUBTATOR__BATCH_SIZE=200

# Override ClinGen settings
# KG_CLINGEN__KIDNEY_AFFILIATE_IDS=[40066, 40068]

# Override annotation settings
# KG_ANNOTATIONS__CLINVAR__REQUESTS_PER_SECOND=3.0